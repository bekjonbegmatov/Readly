/* Design tokens: premium minimalist iOS-like */
:root{
  --bg: #ffffff;
  --surface: #f7f7f8;
  --text: #0c0c0d;
  --muted: #6b7280;
  --brand: #0a84ff; /* iOS blue */
  --brand-ink: #004fba;
  --border: #e5e7eb;
  --shadow: 0 1px 2px rgba(16,24,40,.06), 0 8px 24px rgba(16,24,40,.08);
  --radius-sm: 10px; --radius-md: 14px; --radius-lg: 20px;
  --space-1: .25rem; --space-2: .5rem; --space-3: .75rem; --space-4: 1rem; --space-5: 1.25rem;
}

/* Base */
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",Helvetica,Arial,sans-serif;background:var(--surface);color:var(--text)}
.container{padding:var(--space-4);max-width:900px;margin:0 auto}
.section-title{margin:.25rem 0 var(--space-3);font-size:1.25rem;font-weight:600}
.meta{color:var(--muted);font-size:.92rem}

/* Navigation */
.nav{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3) var(--space-4);border-bottom:1px solid var(--border);position:sticky;top:0;background:#fff;z-index:10}
.brand{font-weight:700;color:var(--text);text-decoration:none;letter-spacing:.2px}
.search{flex:1}
.search input{width:100%;padding:.6rem .9rem;border:1px solid var(--border);border-radius:999px;background:#f8fafc;outline:none;transition:box-shadow .2s,border-color .2s}
.search input:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(10,132,255,.15)}
.actions{display:flex;align-items:center;gap:var(--space-2)}
.avatar,.avatar-lg{display:inline-flex;align-items:center;justify-content:center;background:#f3f4f6;border:1px solid var(--border);border-radius:50%;width:30px;height:30px;color:var(--muted)}
.avatar-lg{width:60px;height:60px;font-size:1.1rem}
.link{color:var(--brand);text-decoration:none}

/* Buttons */
.btn{display:inline-block;padding:.55rem .9rem;border-radius:var(--radius-md);background:linear-gradient(180deg, #0a84ff, #0a7cf0);color:#fff;text-decoration:none;border:0;box-shadow:var(--shadow);cursor:pointer;transition:transform .05s ease}
.btn:active{transform:scale(.98)}

/* Cards */
.cards{display:grid;grid-template-columns:1fr;gap:var(--space-3)}
.card{border:1px solid var(--border);border-radius:var(--radius-lg);overflow:hidden;background:#fff;box-shadow:var(--shadow)}
.card.compact{padding:var(--space-3)}
.card-body{padding:var(--space-4)}
.card-title{margin:.25rem 0;font-weight:600}
.cover{width:100%;height:180px;object-fit:cover}
.cover-lg{width:100%;max-height:380px;object-fit:cover;border-radius:var(--radius-lg);border:1px solid var(--border)}

/* Article */
.article h1{margin:.25rem 0 0;font-size:1.7rem}
.content{line-height:1.65}
.actions-line{display:flex;align-items:center;gap:var(--space-2);margin-top:var(--space-3)}

/* Tags */
.tags{display:flex;gap:.35rem;flex-wrap:wrap}
.tag{background:#eef5ff;color:#0f172a;border:1px solid #dbeafe;border-radius:999px;padding:.15rem .6rem;font-size:.82rem}

/* Comments */
.comments .comment{border-top:1px solid var(--border);padding:var(--space-3) 0}

/* Forms */
.form-section{max-width:760px;margin:0 auto}
.form label{display:block;margin-bottom:var(--space-3);font-weight:500}
.form input[type="text"],.form input[type="password"],.form textarea,.form input[type="search"],.form input[type="file"]{width:100%;padding:.7rem .95rem;border:1px solid var(--border);border-radius:var(--radius-md);background:#f8fafc;outline:none}
.form textarea{min-height:180px}
.form input:focus,.form textarea:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(10,132,255,.15)}
.error{color:#dc2626}

/* Mobile tab bar */
.tabbar{position:sticky;bottom:0;background:#fff;border-top:1px solid var(--border);display:flex;justify-content:space-around;padding:var(--space-2) var(--space-4)}
.tabbar a{color:var(--muted);text-decoration:none;font-weight:500}
.tabbar a.active{color:var(--brand)}

/* Responsive */
@media(min-width:640px){.cards{grid-template-columns:repeat(2,1fr)}}
@media(min-width:1024px){.cards{grid-template-columns:repeat(3,1fr)}}

/* Markdown (prose) improvements */
.prose{line-height:1.75;color:var(--text)}
.prose h1,.prose h2,.prose h3{font-weight:700;letter-spacing:.2px}
.prose p{margin:1rem 0}
.prose img{display:block;max-width:100%;height:auto;border-radius:var(--radius-lg);box-shadow:var(--shadow);border:1px solid var(--border);margin:1rem auto}
.prose figure{margin:1rem 0;text-align:center}
.prose figcaption{font-size:.85rem;color:var(--muted);margin-top:.5rem}
.prose a{color:var(--brand);text-decoration:underline;text-underline-offset:2px}
.prose blockquote{border-left:3px solid var(--brand);padding:.5rem 1rem;background:var(--surface);color:#374151;border-radius:var(--radius-md)}
.prose table{width:100%;border-collapse:collapse;margin:1rem 0;border:1px solid var(--border)}
.prose th,.prose td{border:1px solid var(--border);padding:.5rem}
.prose pre{background:#0b1020;color:#e6edf3;border-radius:var(--radius-lg);padding:1rem;overflow:auto;box-shadow:var(--shadow)}
.prose code{background:#f3f4f6;border:1px solid var(--border);border-radius:8px;padding:.15rem .35rem}

/* Responsive embeds */
.embed{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:var(--radius-lg);box-shadow:var(--shadow);border:1px solid var(--border);margin:1rem 0}
.embed iframe,.embed object,.embed embed{position:absolute;top:0;left:0;width:100%;height:100%}
